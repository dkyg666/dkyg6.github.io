import{u as U,f as ie,g as te,h as W,i as re,P as le,t as oe,j as ne,k as B,l as w,m as ce,n as Y,p as t,q as se,R as P,s as ae,v as de,x as me,C as ue,y as he,z as xe,A as ke,B as pe,D as De,E as ve,F as ye,G as T,H as $,I as ge,J as A,K as fe}from"./app-DT2w9O6A.js";const be=["/","/collect/","/collect/web.html","/other/","/other/OpenWrt/OpenWrt.html","/other/OpenWrt/","/other/%E5%85%B6%E4%BB%96/%E5%85%B6%E4%BB%96.html","/index/Alist/build/05-head.html","/index/Alist/build/06-body.html","/index/Alist/build/","/index/Alist/build/github.html","/index/Alist/build/kaifa.html","/index/Alist/build/linux.html","/index/Alist/build/win.html","/index/Alist/drivers/","/index/Alist/drivers/common.html","/index/Alist/drivers/local.html","/index/Alist/install/","/index/Alist/install/docker.html","/index/Alist/install/manual.html","/index/Alist/install/reverse-proxy.html","/index/Alist/install/script.html","/index/Alist/install/source.html","/index/Docker/advanced_network/","/index/Docker/advanced_network/access_control.html","/index/Docker/advanced_network/bridge.html","/index/Docker/advanced_network/config_file.html","/index/Docker/advanced_network/docker0.html","/index/Docker/advanced_network/example.html","/index/Docker/advanced_network/http_https_proxy.html","/index/Docker/advanced_network/port_mapping.html","/index/Docker/advanced_network/ptp.html","/index/Docker/advanced_network/quick_guide.html","/index/Docker/appendix/","/index/Docker/appendix/best_practices.html","/index/Docker/appendix/debug.html","/index/Docker/appendix/resources.html","/index/Docker/archive/","/index/Docker/basic_concept/","/index/Docker/basic_concept/container.html","/index/Docker/basic_concept/image.html","/index/Docker/basic_concept/repository.html","/index/Docker/buildx/","/index/Docker/buildx/buildkit.html","/index/Docker/buildx/buildx.html","/index/Docker/buildx/multi-arch-images.html","/index/Docker/cloud/","/index/Docker/cloud/alicloud.html","/index/Docker/cloud/aws.html","/index/Docker/cloud/intro.html","/index/Docker/cloud/summary.html","/index/Docker/cloud/tencentCloud.html","/index/Docker/compose/","/index/Docker/compose/commands.html","/index/Docker/compose/compose_file.html","/index/Docker/compose/django.html","/index/Docker/compose/install.html","/index/Docker/compose/introduction.html","/index/Docker/compose/lnmp.html","/index/Docker/compose/rails.html","/index/Docker/compose/usage.html","/index/Docker/compose/v2.html","/index/Docker/compose/wordpress.html","/index/Docker/container/","/index/Docker/container/attach_exec.html","/index/Docker/container/daemon.html","/index/Docker/container/import_export.html","/index/Docker/container/rm.html","/index/Docker/container/run.html","/index/Docker/container/stop.html","/index/Docker/coreos/","/index/Docker/coreos/install.html","/index/Docker/coreos/intro.html","/index/Docker/data_management/","/index/Docker/data_management/bind-mounts.html","/index/Docker/data_management/volume.html","/index/Docker/etcd/","/index/Docker/etcd/cluster.html","/index/Docker/etcd/etcdctl-v2.html","/index/Docker/etcd/etcdctl.html","/index/Docker/etcd/install.html","/index/Docker/etcd/intro.html","/index/Docker/ide/","/index/Docker/ide/vsCode.html","/index/Docker/image/","/index/Docker/image/build.html","/index/Docker/image/commit.html","/index/Docker/image/internal.html","/index/Docker/image/list.html","/index/Docker/image/manifest.html","/index/Docker/image/other.html","/index/Docker/image/pull.html","/index/Docker/image/rm.html","/index/Docker/install/","/index/Docker/install/centos.html","/index/Docker/install/debian.html","/index/Docker/install/experimental.html","/index/Docker/install/fedora.html","/index/Docker/install/mirror.html","/index/Docker/install/offline.html","/index/Docker/install/raspberry-pi.html","/index/Docker/install/ubuntu.html","/index/Docker/introduction/","/index/Docker/introduction/what.html","/index/Docker/introduction/why.html","/index/Docker/network/","/index/Docker/network/dns.html","/index/Docker/network/linking.html","/index/Docker/network/port_mapping.html","/index/Docker/podman/","/index/Docker/repository/","/index/Docker/repository/dockerhub.html","/index/Docker/repository/nexus3_registry.html","/index/Docker/repository/registry.html","/index/Docker/repository/registry_auth.html","/index/Docker/security/","/index/Docker/security/control_group.html","/index/Docker/security/daemon_sec.html","/index/Docker/security/kernel_capability.html","/index/Docker/security/kernel_ns.html","/index/Docker/security/other_feature.html","/index/Docker/security/summary.html","/index/Docker/swarm_mode/","/index/Docker/swarm_mode/config.html","/index/Docker/swarm_mode/create.html","/index/Docker/swarm_mode/deploy.html","/index/Docker/swarm_mode/overview.html","/index/Docker/swarm_mode/rolling_update.html","/index/Docker/swarm_mode/secret.html","/index/Docker/swarm_mode/stack.html","/index/Docker/underly/","/index/Docker/underly/arch.html","/index/Docker/underly/cgroups.html","/index/Docker/underly/container_format.html","/index/Docker/underly/namespace.html","/index/Docker/underly/network.html","/index/Docker/underly/ufs.html","/index/Alist/build/sso/","/index/Alist/build/sso/build.html","/index/Alist/build/sso/dev.html","/index/Docker/appendix/command/","/index/Docker/appendix/command/docker.html","/index/Docker/appendix/command/dockerd.html","/index/Docker/appendix/faq/","/index/Docker/appendix/repo/","/index/Docker/appendix/repo/centos.html","/index/Docker/appendix/repo/minio.html","/index/Docker/appendix/repo/mongodb.html","/index/Docker/appendix/repo/mysql.html","/index/Docker/appendix/repo/nginx.html","/index/Docker/appendix/repo/nodejs.html","/index/Docker/appendix/repo/php.html","/index/Docker/appendix/repo/redis.html","/index/Docker/appendix/repo/ubuntu.html","/index/Docker/appendix/repo/wordpress.html","/index/Docker/cases/ci/","/index/Docker/cases/os/","/index/Docker/cases/os/alpine.html","/index/Docker/cases/os/busybox.html","/index/Docker/cases/os/centos.html","/index/Docker/cases/os/debian.html","/index/Docker/cases/os/summary.html","/index/Docker/image/dockerfile/","/index/Docker/image/dockerfile/add.html","/index/Docker/image/dockerfile/arg.html","/index/Docker/image/dockerfile/cmd.html","/index/Docker/image/dockerfile/copy.html","/index/Docker/image/dockerfile/entrypoint.html","/index/Docker/image/dockerfile/env.html","/index/Docker/image/dockerfile/expose.html","/index/Docker/image/dockerfile/healthcheck.html","/index/Docker/image/dockerfile/label.html","/index/Docker/image/dockerfile/onbuild.html","/index/Docker/image/dockerfile/references.html","/index/Docker/image/dockerfile/shell.html","/index/Docker/image/dockerfile/user.html","/index/Docker/image/dockerfile/volume.html","/index/Docker/image/dockerfile/workdir.html","/index/Docker/image/multistage-builds/","/index/Docker/image/multistage-builds/laravel.html","/index/Docker/cases/ci/actions/","/index/Docker/cases/ci/drone/","/index/Docker/cases/ci/drone/install.html","/index/Docker/cases/ci/drone/demo/","/404.html","/other/%E5%85%B6%E4%BB%96/","/index/Alist/","/index/","/index/Docker/","/index/Docker/cases/"],_e="SEARCH_PRO_QUERY_HISTORY",D=U(_e,[]),we=()=>{const{queryHistoryCount:r}=A,l=r>0;return{enabled:l,queryHistory:D,addQueryHistory:o=>{l&&(D.value=Array.from(new Set([o,...D.value.slice(0,r-1)])))},removeQueryHistory:o=>{D.value=[...D.value.slice(0,o),...D.value.slice(o+1)]}}},L=r=>be[r.id]+("anchor"in r?`#${r.anchor}`:""),Ae="SEARCH_PRO_RESULT_HISTORY",{resultHistoryCount:I}=A,v=U(Ae,[]),He=()=>{const r=I>0;return{enabled:r,resultHistory:v,addResultHistory:l=>{if(r){const o={link:L(l),display:l.display};"header"in l&&(o.header=l.header),v.value=[o,...v.value.slice(0,I-1)]}},removeResultHistory:l=>{v.value=[...v.value.slice(0,l),...v.value.slice(l+1)]}}},Re=r=>{const l=ue(),o=W(),H=he(),c=B(0),f=w(()=>c.value>0),x=xe([]);return ke(()=>{const{search:k,terminate:R}=pe(),y=ge(d=>{const g=d.join(" "),{searchFilter:q=h=>h,splitWord:Q,suggestionsFilter:O,...p}=l.value;g?(c.value+=1,k(d.join(" "),o.value,p).then(h=>q(h,g,o.value,H.value)).then(h=>{c.value-=1,x.value=h}).catch(h=>{console.warn(h),c.value-=1,c.value||(x.value=[])})):x.value=[]},A.searchDelay-A.suggestDelay);Y([r,o],([d])=>y(d),{immediate:!0}),De(()=>{R()})}),{isSearching:f,results:x}};var Qe=ie({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(r,{emit:l}){const o=te(),H=W(),c=re(le),{enabled:f,addQueryHistory:x,queryHistory:k,removeQueryHistory:R}=we(),{enabled:y,resultHistory:d,addResultHistory:g,removeResultHistory:q}=He(),Q=f||y,O=oe(r,"queries"),{results:p,isSearching:h}=Re(O),n=ne({isQuery:!0,index:0}),m=B(0),u=B(0),j=w(()=>Q&&(k.value.length>0||d.value.length>0)),C=w(()=>p.value.length>0),E=w(()=>p.value[m.value]||null),M=()=>{const{isQuery:e,index:i}=n;i===0?(n.isQuery=!e,n.index=e?d.value.length-1:k.value.length-1):n.index=i-1},z=()=>{const{isQuery:e,index:i}=n;i===(e?k.value.length-1:d.value.length-1)?(n.isQuery=!e,n.index=0):n.index=i+1},G=()=>{m.value=m.value>0?m.value-1:p.value.length-1,u.value=E.value.contents.length-1},J=()=>{m.value=m.value<p.value.length-1?m.value+1:0,u.value=0},K=()=>{u.value<E.value.contents.length-1?u.value+=1:J()},V=()=>{u.value>0?u.value-=1:G()},S=e=>e.map(i=>fe(i)?i:t(i[0],i[1])),N=e=>{if(e.type==="customField"){const i=ve[e.index]||"$content",[s,_=""]=ye(i)?i[H.value].split("$content"):i.split("$content");return e.display.map(a=>t("div",S([s,...a,_])))}return e.display.map(i=>t("div",S(i)))},b=()=>{m.value=0,u.value=0,l("updateQuery",""),l("close")},X=()=>f?t("ul",{class:"search-pro-result-list"},t("li",{class:"search-pro-result-list-item"},[t("div",{class:"search-pro-result-title"},c.value.queryHistory),k.value.map((e,i)=>t("div",{class:["search-pro-result-item",{active:n.isQuery&&n.index===i}],onClick:()=>{l("updateQuery",e)}},[t(T,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},e),t("button",{class:"search-pro-remove-icon",innerHTML:$,onClick:s=>{s.preventDefault(),s.stopPropagation(),R(i)}})]))])):null,Z=()=>y?t("ul",{class:"search-pro-result-list"},t("li",{class:"search-pro-result-list-item"},[t("div",{class:"search-pro-result-title"},c.value.resultHistory),d.value.map((e,i)=>t(P,{to:e.link,class:["search-pro-result-item",{active:!n.isQuery&&n.index===i}],onClick:()=>{b()}},()=>[t(T,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},[e.header?t("div",{class:"content-header"},e.header):null,t("div",e.display.map(s=>S(s)).flat())]),t("button",{class:"search-pro-remove-icon",innerHTML:$,onClick:s=>{s.preventDefault(),s.stopPropagation(),q(i)}})]))])):null;return ce("keydown",e=>{if(r.isFocusing){if(C.value){if(e.key==="ArrowUp")V();else if(e.key==="ArrowDown")K();else if(e.key==="Enter"){const i=E.value.contents[u.value];x(r.queries.join(" ")),g(i),o.push(L(i)),b()}}else if(y){if(e.key==="ArrowUp")M();else if(e.key==="ArrowDown")z();else if(e.key==="Enter"){const{index:i}=n;n.isQuery?(l("updateQuery",k.value[i]),e.preventDefault()):(o.push(d.value[i].link),b())}}}}),Y([m,u],()=>{var e;(e=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))==null||e.scrollIntoView(!1)},{flush:"post"}),()=>t("div",{class:["search-pro-result-wrapper",{empty:r.queries.length?!C.value:!j.value}],id:"search-pro-results"},r.queries.length?h.value?t(se,{hint:c.value.searching}):C.value?t("ul",{class:"search-pro-result-list"},p.value.map(({title:e,contents:i},s)=>{const _=m.value===s;return t("li",{class:["search-pro-result-list-item",{active:_}]},[t("div",{class:"search-pro-result-title"},e||c.value.defaultTitle),i.map((a,ee)=>{const F=_&&u.value===ee;return t(P,{to:L(a),class:["search-pro-result-item",{active:F,"aria-selected":F}],onClick:()=>{x(r.queries.join(" ")),g(a),b()}},()=>[a.type==="text"?null:t(a.type==="title"?ae:a.type==="heading"?de:me,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},[a.type==="text"&&a.header?t("div",{class:"content-header"},a.header):null,t("div",N(a))])])})])})):c.value.emptyResult:Q?j.value?[X(),Z()]:c.value.emptyHistory:c.value.emptyResult)}});export{Qe as default};
